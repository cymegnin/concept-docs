<!DOCTYPE html>
<html lang="en">
  <head>
    <title>CloudCoreo Documentation</title>
    <script type="text/javascript" src="assets/js/jquery-1.10.1.min.js"></script>
    <script type="text/javascript">var BASE_URL = "";</script>
    <script type="text/javascript" src="assets/js/viewer.js"></script>
    <script type="text/javascript" src="assets/js/lunr.min.js"></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    
    <title>CloudCoreo</title>
    
    <link rel="shortcut icon" href="https://www.cloudcoreo.com/favicon.ico?v=2" />
    <link rel="stylesheet" type="text/css" href="https://www.cloudcoreo.com/lib/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="https://www.cloudcoreo.com/lib/font-awesome/css/font-awesome.min.css"/>
    <link rel="stylesheet" type="text/css" href="https://www.cloudcoreo.com/css/lib/animatecss/animate.min.css"/>
    <link rel="stylesheet" type="text/css" href="https://www.cloudcoreo.com/css/app.css"/>
    <link rel="stylesheet" type="text/css" href="https://www.cloudcoreo.com/css/style.css"/>
    <link rel="stylesheet" type="text/css" href="assets/css/add-to-style.css" />
   <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
  </head>
  <body>
    <!-- Fixed navbar -->
    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
          </button>
          <a class="navbar-brand" href="https://www.cloudcoreo.com/">
            <img src="https://www.cloudcoreo.com/img/logo.png" alt="logo" title="logo" />
          </a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li class="active"><a href="https://www.cloudcoreo.com/getstarted">Get Started</a></li>
            <li><a target="_blank" href="http://docs.cloudcoreo.com/docs/frames/index">Documentation</a></li>
            <li><a target="_blank" href="http://blog.cloudcoreo.com">Blog</a></li>
            <li><a target="_blank" href="http://hub.cloudcoreo.com">Hub</a></li>
            <li><a href="https://www.cloudcoreo.com/contact">Contact</a></li>
            <li><a href="https://www.cloudcoreo.com/login?page=register">Sign Up</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </nav>
    <div class="jumbotron" role="main">
        <div class="container mblock">
	    <div class="row">
            <div class="col-md-12 col-sm-12 col-lg-12">
                <h3 class="green">CloudCoreo Documentation</h3>
                <p class="bottom40">When does what happen? Why does who do what? Where is what how? Let us answer that for you.</p>
            </div>
	      </div>
        </div>
    </div>
    <div class="bk-blue" style="padding-top: 11px">
      <form action="search.html">
	<div class="container mblock">
          <div class="col-md-4 col-md-offset-4 col-sm-4 col-sm-offset-4 text-center">
	    <div class="input-group">
              <input type="text" name="q" class="form-control ng-pristine ng-untouched ng-valid" placeholder="I'm looking for" aria-describedby="basic-addon2">
              <span class="input-group-addon" id="basic-addon2"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></span>
            </div>
          </div>
	</div>
      </form>
    </div>
    <div id="page" class="container">
      <div class="row">
	<div class="col-md-3">
          

<div class="col-md-3">
  <nav id="toc" class="hidden-print hidden-xs hidden-sm affix">
    
    
    <ul class="nav">
    
        <li>
            <a href="directorystructure.html#directory-structure">Directory Structure</a>
            
                
    <ul class="nav">
    
        <li>
            <a href="directorystructure.html#extends">extends</a>
            
                
    <ul class="nav">
    
    </ul>

            
        </li>
    
        <li>
            <a href="directorystructure.html#stack-">stack-*</a>
            
                
    <ul class="nav">
    
    </ul>

            
        </li>
    
        <li>
            <a href="directorystructure.html#services">services</a>
            
                
    <ul class="nav">
    
    </ul>

            
        </li>
    
        <li>
            <a href="directorystructure.html#boot-scripts">boot-scripts</a>
            
                
    <ul class="nav">
    
    </ul>

            
        </li>
    
        <li>
            <a href="directorystructure.html#operational-scripts">operational-scripts</a>
            
                
    <ul class="nav">
    
    </ul>

            
        </li>
    
        <li>
            <a href="directorystructure.html#shutdown-scripts">shutdown-scripts</a>
            
                
    <ul class="nav">
    
    </ul>

            
        </li>
    
        <li>
            <a href="directorystructure.html#overrides">overrides</a>
            
                
    <ul class="nav">
    
    </ul>

            
        </li>
    
    </ul>

            
        </li>
    
        <li>
            <a href="cloudservices.html#cloud-services">Cloud Services</a>
            
                
    <ul class="nav">
    
    </ul>

            
        </li>
    
    </ul>

    <a href="#top" class="back-to-top">
      Back to top
    </a>
    
    
    <nav id="links">
        <ul>
            
            <li><a href="http://docs.cloudcoreo.com/docs/frames/index">Service API Docs</a></li>
            
        </ul>
    </nav>
    
  </nav>
</div>

	</div>
	<div class="col-md-9">
          <div id="content">
            <h2 id="directory-structure">Directory Structure</h2>
<p>CloudCoreo relies on convention over configuartaion for the most part. Each repository can contain whatever you like, which is useful for running scripts or laying down code you rely on. There are some directories that we reserve the right to, and this is a list of those directories as well as whay they do.</p>
<p>The directory structure has much to do with how CloudCoreo works. The convention we have defined dictates what gets overridden, what runs during boot of a server, what runs as Cloud Services, etc. The <a href="https://github.com/CloudCoreo/cloudcoreo-cli">CLI Tool</a> will do much of the work for you, but you should still know what it all means.</p>
<h3 id="extends">extends</h3>
<p>The <code>extends</code> directory is one of the most basic but importanct concepts in CloudCoreo. This is how you are able to <strong>leverage the work of others</strong> and bring it all within your own deployment.</p>
<p>The simple way to think about <code>extends</code> is as the base for anything you are doing in this stack. In other words, <strong>any and all work defined in <code>extends</code> will be completed before moving on to the parent directory</strong>.</p>
<h3 id="stack-">stack-*</h3>
<p>Any subdirectory begining with <code>stack-</code> is reserved in CloudCoreo. The work in these directories is completed <strong>after</strong> the <code>extends</code> directory (if it exists) but before anything else in the current repository. This makes it suitable to <em>add an external stack</em> to your stack.</p>
<p>When adding a stack, you must be considerate of the future needs of people <em>overriding</em> and <em>extending</em> and/or extending your stack. This actually doesn&#39;t mean anything other than the fact that you can make everyones life easier in the future by creating blank directories in which they can add their own bits of code and overrides. In order to ease the administration efforts of creating these directories, the CLI tool does the following with the <code>stack-</code>. </p>
<h4 id="what-does-this-all-mean-an-example">What does this all mean? An example</h4>
<p>Lets assume you want to add a stack from git (github.com:example/tomcat.git) into your own and call it <code>tomcat</code>. The directory structure that would ease this for future use is to create a <code>stack-tomcat</code> directory to signify it is special within the CloudCoreo framework. Next, create an <code>extends</code> directory inside and extend the stack into this directory. This is actually utilizing both concepts. Because you have used a <code>stack-*</code> directory to the <code>&lt;repository-dir&gt;</code>, it will get run <strong>after</strong> the <code>&lt;repository-dir&gt;/extends</code>. Because you have added the stack to the <code>&lt;repository-dir&gt;/stack-tomcat/extends</code> it will run <strong>before</strong> everything else inside the `stack-tomcat* directory. This gives anyone utilizing your stack a conveninent place to insert configuration and setup between your stack and the added tomcat stack.</p>
<h3 id="services">services</h3>
<p>The <code>services</code> directory exists to define the stack&#39;s interaction with the cloud provider in which the server is launched. Specifically, the <code>&lt;repository-dir&gt;/services/config.rb</code> file. This is in-depth enough to contain its own documentation section.</p>
<h3 id="boot-scripts">boot-scripts</h3>
<p>The <code>&lt;repository-dir&gt;/boot-scripts</code> directory exists to define boot time configuration of a server. If this directory exists, CloudCoreo will run scripts as defined by:</p>
<ol>
<li>The directory layout (extends, stack-*, etc.) </li>
<li>and then the order defined in the <code>order.yaml</code> file within this directory.</li>
</ol>
<p>For instance, if your directory structure contains the following paths:</p>
<ul>
<li><code>extends/stack-example/extends/boot-scripts</code>
and</li>
<li><code>extends/stack-example/boot-scripts</code>
CloudCoreo will run each script in the <code>extends/stack-example/extends/boot-scripts/order.yaml</code> file <strong>before</strong> moving on to the <code>extends/stack-example/boot-scripts/order.yaml</code>. As a matter of fact, each of the scripts in the base directory can be overridden at any point.</li>
</ul>
<h3 id="operational-scripts">operational-scripts</h3>
<p>The files contained within the <code>&lt;repository-dir&gt;/operational-scripts</code> directory are scripts you would like to be able to run on an ad-hoc basis from the CloudCoreo GUI or CLI. The structure and scripts within this directory honor the order and overrides defined within the rest of this document.</p>
<h3 id="shutdown-scripts">shutdown-scripts</h3>
<p>The <code>&lt;repository-dir&gt;/shutdown-scripts</code> directory contains scripts that CloudCoreo will <strong>attempt</strong> to run. These are not gaurenteed because many times failures are a complete loss of a system with no warning. The structure and scripts within this directory honor the order and overrides defined within the rest of this document.</p>
<h3 id="overrides">overrides</h3>
<p>Anything contained in this directory will act as an override for the stack in which it is contained.</p>
<p>The paths should be considered relative to the parent of this directory.</p>
<p>For example, if you have a directory structure like this, </p>
<pre><code>+-- parent
|   +-- overrides
|   |   +-- stack-a
|   |   |   +-- boot-scripts
|   |   |   |   +-- order.yaml
|   +-- stack-a
|   |   +-- boot-scripts
|   |   |   +-- order.yaml
</code></pre><p>Because the directory structure within the override directory matches the structure of the parent, the &#39;order.yaml&#39; file will be ignored in the stack-a directory and instead the overrides/stack-a order.yaml file will be used.</p>




          </div>
	</div>
      </div>
    </div>
    <div class="footer">
      <div class="container">
        <div class="row">
          <div class="col-xs-6">
            <a href="https://www.linkedin.com/company/cloudcoreo"><img alt="facebook icon" height="40" src="https://www.cloudcoreo.com/img/icons/linkedin-64.png"></a>
            <a href="https://plus.google.com/b/110620252437199091978"><img alt="google plus icon" height="40" src="https://www.cloudcoreo.com/img/icons/google-plus-64.png"></a>
            <a href="https://twitter.com/cloudcoreo"><img alt="twitter icon" height="40" src="https://www.cloudcoreo.com/img/icons/twitter-64.png"></a>
          </div>
          <div class="col-xs-6 text-right">
            <div>
              <a target="_blank" href="http://hub.cloudcoreo.com"><img alt="search icon" height="40" src="https://www.cloudcoreo.com/img/icons/search-64.png"></a>
              <a href="https://www.cloudcoreo.com/contact"><img alt="help icon" height="40" src="https://www.cloudcoreo.com/img/icons/help-64.png"></a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script>
       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
       (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
       m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
       })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

       ga('create', 'UA-48747618-1', {'cookieDomain': 'cloudcoreo.com'});
       ga('send', 'pageview');

    </script>
</body>
</html>
